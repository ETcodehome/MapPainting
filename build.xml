<?xml version="1.0" encoding="UTF-8"?>
<project name="MapPainting" default="defaults">
	<!-- Environments, do not modify! -->
	<property name="dir.src" value="src"/>
	<property name="dir.dep" value="dep"/>
	<property name="dir.bin" value="bin"/>
	<property name="dir.j7bin" value="j7bin"/>
	
	<!-- Local properties, modify that instead of this file! -->
	<property file="${basedir}/build.properties"/>
	
	<target name="j8jar">
		<jar basedir="${dir.bin}" destfile="mappainting-${version}-java8.jar"/>
	</target>
	
	<target name="j7bin">
		<mkdir dir="${dir.j7bin}"/>
		<java fork="true" jar="${dir.dep}/retrolambda.jar">
			<jvmarg value="-Dretrolambda.inputDir=${dir.bin}"/>
			<jvmarg value="-Dretrolambda.outputDir=${dir.j7bin}"/>
			<jvmarg value="-Dretrolambda.classpath=${dir.bin}:${dir.dep}/bukkit.jar:${dir.dep}/googlecollect.jar:${dir.dep}/ebeanorm.jar"/>
		</java>
	</target>
	
	<target name="j7jar" depends="j7bin">
		<jar basedir="${dir.j7bin}" destfile="mappainting-${version}-java7.jar"/>
	</target>
	
	<target name="defaults" depends="j7jar,j8jar">
	</target>
</project>